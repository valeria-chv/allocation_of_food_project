# Автоматическое распределение раскладки между участниками похода

Программа распределяет продукты между участниками похода с учетом веса, который должен нести каждый участник группы.
При этом основные продукты (крупы и мясо) распределяются между участниками равномерно.
Все остальные продукты распределяются по правилу: у кого осталось больше всего места (по весу) - тому самый тяжелый продукт.

Если базы данных с продуктами еще нет, то по имеющейся раскладке создается база данных.
Если есть база данных с продуктами, то можно использовать ее.

Результат сохраняется в xls файл.


## Если у вас нет базы данных (есть только раскладочный файл):

1. create_table_food.py - модуль для создания удобной таблицы csv из раскладочного файла (xls/xlsx)

Запустите его или самостоятельно создайте csv файл в нужном формате

```
Модуль принимает файл (xls/xlsx) с раскладкой и файл с важностью продуктов (xls/xlsx).
Создает файл (csv): [id; name_of_food; weight; importance] без заголовка

inp_file_name - входной файл с раскладкой (xls/xlsx):
		должен содержать в первом столбце название продукта,
		в последнем - итоговый вес этого продукта
file_with_importance_name - файл с соответствием продуктов и их важности (xls/xlsx):
		должен содержать в первом столбце название продукта,
		во втором - важность (1 - max важность, 4 - min важность),
		первая строка - заголовок
words_for_beg_or_skip - с этих слов начинается подсчет продуктов, либо эти имена скипаются
		(если подсчет уже идет)
out_file_name - имя выходного файла (csv!)
```


2. create_database.py - модуль для создания и заполнения бд tourism

Если у вас нет бд tourism или она не заполнена, запустите этот модуль

```
 Модуль создает и заполняет базу данных tourism.
 path_food, path_tourists - путь до файлов с продуктами и туристами соответственно
 food.csv: формат [id; name_of_food; weight; importance] без заголовка
 		   id - id продукта, name_of_food - название,
 		   weight - вес для закупки, importance - важность (1 - max важность, 4 - min важность),
 		   разделитель - ';'
 tourists.csv: формат [id, name, weight] без заголовка
 		   id - id туриста, name - имя,
 		   weight - вес, который должен нести турист (только по продуктам)
 
```
 
 
## Бд уже есть
 
Запустите файл main.py

```
Модуль предназначен для распределения раскладки между туристами.
Модуль работает с бд tourism (таблицы: food, tourists, tf)
			food: [id, name, weight, importance]
			tourists: [id, name, food_weight]
			tf: [tour_id, food_id]
Создает файл resultfile.xls: [name, food_name, weight]
			
```



 
 
 
